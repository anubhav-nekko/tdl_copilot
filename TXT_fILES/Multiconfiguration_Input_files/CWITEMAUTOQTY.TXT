;===============================================================================
; CWITEMAUTOQTY.TXT
; Created By: Suman on 2013-07-30 16:53, ID:
; Purpose: Automatically sets BilledQty and ActualQty fields to a default
;          quantity (from item master UDF) for sales and delivery note vouchers.
;===============================================================================

;------------------------------------------------------------------------------
; SYSTEM FORMULAS: WHEN TO AUTO-SET BILLED QTY
;------------------------------------------------------------------------------

[System: Formula]
    cwSetBqty      : @@issales or @@isdelnote   ;; For sales/delivery note, set billed qty to 1 (or UDF)
    cwSetBqtyJrnl  : no                        ;; For journals, do not auto-set

;------------------------------------------------------------------------------
; FIELD OPTIONS: AUTO-SET BILLED QTY IN BATCH ALLOCATIONS
;------------------------------------------------------------------------------

[#field: VCHBATCH NrmlBQty]
    add: option: cwSetBQty: @@cwSetBqty

[#Field: VCHBATCH JrnlBQty]
    add: option: cwSetBQty: @@cwSetBqtyJrnl

[!field: cwSetBQty]
    set as: if $$isempty:$$value then $$asqty:$cwAutoQuantity:stockitem:$stockitemname else $$value

;------------------------------------------------------------------------------
; FIELD OPTIONS: AUTO-SET BILLED QTY AND ACTUAL QTY FOR SALES/DEL NOTE
;------------------------------------------------------------------------------

[#field: VCHBATCH BilledQty]
    add: option: cwvchbill: @@issales or @@isdelnote

[!field: cwvchbill]
    set as: if $$isempty:$$value then $$asqty:$cwAutoQuantity:stockitem:$stockitemname else $$value

[#field: VCHBATCH ActualQty]
    add: option: cwvchbillactual: @@issales or @@isdelnote or (not @@isoutwardtype and @@isbatchautoIn)

[!field: cwvchbillactual]
    set as: if $$isempty:$$value then $$asqty:$cwAutoQuantity:stockitem:$stockitemname else $$value

;------------------------------------------------------------------------------
; FIELD OPTIONS: AUTO-SET BILLED QTY IN VOUCHER ENTRY
;------------------------------------------------------------------------------

[#field: VCH BilledQty]
    add: option: cwvchbilledqty: (@@issales or @@isdelnote)

[!field: cwvchbilledqty]
    ;; {29.Oct.13 11:56} delete: set as
    delete: set by condition
    add: set by condition: yes: if $$isempty:$$value then $$asqty:$cwAutoQuantity:stockitem:$stockitemname else $$value
    Skip Forward: yes
    ;; {17.Apr.18 13:31} border: thin box

;------------------------------------------------------------------------------
; FIELD OPTIONS: AUTO-SKIP FOR VALUE FIELD IN SALES/DEL NOTE
;------------------------------------------------------------------------------

[#field: VCH Value]
    add: option: cwvchvalue: @@issales or @@isdelnote

[!field: cwvchvalue]
    Skip Forward: yes

;===============================================================================
; END OF FILE
;===============================================================================
