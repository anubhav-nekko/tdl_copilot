; Created By: suman on 2021-07-29 14:14, ID: 

; Created By: Pg on 2018-09-12 11:01, ID:

   [System: Formula]
cwPrintDS :@@cwVchdsEnabled


;; {26.Aug.21 11:28} [#form: Sales Vouchers]
;; {26.Aug.21 11:28} add : option : dsinVch

[#form :POS Invoice]
;; {27.Aug.21 11:02}    add : option : dsinVch : @@cwDSEnabled  and not $$indisplaymode
;; {27.Aug.21 11:02}    add : option : dsinVch2 : @@cwDSEnabled and  $$indisplaymode

;; {27.Aug.21 11:02} on : form accept : $cwbajfinapplcable and $$cwcanuploadBF : call : cwExportforSigning



[#form : Voucher]
;; {28.Aug.21 18:01}    add : option : dsinVch : @@issales and @@cwBajajFinanceEnabled and not $$indisplaymode
;; {28.Aug.21 18:01}    add : option : dsinVch2 : @@issales and @@cwBajajFinanceEnabled and  $$indisplaymode
   
;; {28.Aug.21 18:01} on : form accept : $cwbajfinapplcable and $$cwcanuploadBF  : call : cwExportforSigning

add:option:cwVouchersales:@@issales and not @@cwPos
add:option:cwVouchersalespos:@@issales and @@cwPos

[!form:cwVouchersales]
on : formaccept : $cwbajfinapplcable and $$cwcanuploadBF  : call : cwExportforSigning


[!form:cwVouchersalespos]
on : formaccept : $cwbajfinapplcable and $$cwcanuploadBF : call : cwExportforSigningx



   [function : cwCanUploadBF]
   variable : totaldeals : number : 0
   variable : activedeals : number : 0
   
   10 : walk : AllInventoryEntries
   20 : if : not $$isempty:$cwdealid
   25 : set : totaldeals : ##totaldeals + 1
   30 : if : not $$isempty:$cwSerialNo
   31 : set : activedeals : ##activedeals + 1
   32 : end if
   33 : end if
   34: end walk
   
   35 : return : ##totaldeals  > 0 and ##totaldeals = ##activedeals



[!form : dsinVCH]
add : button : cwDsInVch



[!form : dsinVCH2]
add : button : cwDsInVch2

;; if not $$isempty:##VoucherID  then ##VoucherID else $masterid

[key : cwdsinvch]
title : "Upload Fin."
key : alt + g
action : call :cwExportforSigning
inactive : $$increatemode or not $cwbajfinapplcable


[key : cwdsinvch2]
title : "Upload Fin."
key : alt + g
action : call :cwExportforSigning2


[#Report: VCH Display NRM]

 	Pre Fetch Object  : Voucher : ##VoucherID :partyledgername

[#Form: VCH Display]
 add : option : dsinVCH2 : @@cwPrintDS

